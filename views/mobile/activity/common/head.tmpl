<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="dns-prefetch" href="//cdn1.showjoy.com">
    <meta name="format-detection" content="telephone=no,email=no">
    <meta name="apple-touch-fullscreen" content="yes">
    <link rel="apple-touch-icon" href="//cdn1.showjoy.com/images/10/10d9270e34a640db804a8f6f453df597.png">
    <meta name="apple-mobile-web-app-title" content="尚妆达人店">
    <meta name="alexaVerifyID" content="CQ9MFqujDWRsB8dm3rfIrhLYva0" />
    <script type="text/javascript">
        ;(function(doc) {
            // 给html根节点加上webps类名
            function addRootTag() {
                doc.documentElement.className += " webpa";
            }
            // 判断是否有webp_showjoy=available这个cookie
            if (!/webp_showjoy=available/.test(document.cookie)) {
                var image = new Image();
                // 图片加载完成时候的操作
                image.onload = function() {
                    // 图片加载成功且宽度为1，那么就代表支持webp了，因为这张base64图是webp格式。如果不支持会触发image.error方法
                    if (image.width == 1) {
                        // html根节点添加class，并且埋入cookie
                        addRootTag();
                        document.cookie = "webp_showjoy=available; max-age=31536000; domain=";
                    }
                };
                // 一张支持alpha透明度的webp的图片，使用base64编码
                image.src = 'data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==';
            } else {
                addRootTag();
            }
        }(document));
    </script>

    <link rel="stylesheet" type="text/css" href="//cdn1.showjoy.com/assets/f2e/joyf2e/vendor/0.3.1/??gmu/reset.css,gmu/gmu.min.css?v=2016111614" />
    <link rel="stylesheet" type="text/css" href="//cdn1.showjoy.com/assets/f2e/joyf2e/vendor/0.1.7/iconfont/talent-iconfont/icon.min.css" />
    {{if __type__ == 'activity-showjoy'}}
        <link href="http://cdn1.showjoy.com/assets/f2e/showjoy-assets/common-m/0.0.6.2/m-header/m-header.css" rel="stylesheet">
    {{else if __type__ == 'activity-shop'}}
        <link href="//cdn1.showjoy.com/assets/f2e/showjoy-assets/shop-m/0.11.40/??shop-header/shop-header.min.css,shop-footer/shop-footer.min.css?v=2016111614" rel="stylesheet">
    {{/if}}

    <title>{{title}}</title>
    <script>
        var u = navigator.userAgent;
        var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1;
        var placeholderDiv = document.createElement('div');
        if (isAndroid) {
            placeholderDiv.innerHTML = "<meta name='viewport' content='width=375' />";
        } else{
            placeholderDiv.innerHTML = "<meta name='viewport' content='width=375, user-scalable=no' />";
        }
        document.querySelector('head').insertBefore(placeholderDiv.firstChild, document.querySelector('title'));
    </script>
    <script type="text/javascript" src="//cdn1.showjoy.com/assets/f2e/joyf2e/vendor/0.0.2/gmu/??zepto.min.js,gmu.min.js"></script>
    <script type="text/javascript" src="//cdn1.showjoy.com/assets/f2e/joyf2e/vendor/0.3.1/??art-template/art-template-min.js,flexible/flexible-min.js?v=20161206"></script>
    <script src="//res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <script>
      template.config('openTag','<<');
      template.config('closeTag','>>');

      function asyncLoad(src) {
        var s = document.createElement('script');
        s.src = src;
        s.async = true;
        document.head.appendChild(s);
      }
      function DO(){
          this.cbs = [];
      }
      DO.prototype.on = function(k,cb){
          if(!this.cbs[k]) {
              this.cbs[k] = [];
          }
          this.cbs[k].push(cb);
      };
      DO.prototype.do = function(k,data){
          if(!this.cbs[k])
          return;
          var cbs = this.cbs[k],len = cbs.length;
          for(var i=0;i<len;i++){
              cbs[i].call(this,data);
          }
      };

      asyncLoad('/api/midproxy/getWechatConfig?' + location.href);

      var d = new DO();
      d.on('wechatConfig-ready',function(config){
          wx.config({
            debug: false,
            appId: 'wx6445a3a7da24ef44',
            timestamp: config.timestamp,
            nonceStr: config.nonceStr,
            signature: config.signature,
            jsApiList: [config.jsApiList]
          });
      });

      d.on('wechatConfig-error',function(){
       console && console.log && console.log('微信接口请求错误，请刷新页面');
      });
    </script>
</head>

<body>
    <script type="text/javascript">
        var $appendContainer = document.body;
        var placeholderDiv = document.createElement('div');
        placeholderDiv.innerHTML = '<div class="joy-ui-sync-loading">'+
                '<div class="content-box">'+
                '<div class="circle"></div>'+
                '</div>'+
                '</div>';
        var childDiv = placeholderDiv.firstChild;
        $appendContainer.appendChild(childDiv);
        window.addEventListener('DOMContentLoaded', function () {
            document.body.removeChild(childDiv);
        }, false);
    </script>
    <div id="layout" class="j_Layout">
        <input class="j_SeverTime" type="hidden" value="{{time}}" >
        <input name="_synToken" type="hidden" value="{{_synToken}}" />
        {{if __type__ == 'activity-shop'}}
            <input name="shopId" class="j_ActivityShopId" type="hidden" value="{{shopId}}" />
            <input class="j_HasShop" type="hidden" value="{{isHaveShop}}">
        {{/if}}