<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="dns-prefetch" href="{{commonEnv.cdnUrl}}">
	<meta name="format-detection" content="telephone=no,email=no">
	<meta name="apple-touch-fullscreen" content="yes">
	<link rel="apple-touch-icon" href="{{commonEnv.cdnUrl}}/images/10/10d9270e34a640db804a8f6f453df597.png">
	<meta name="apple-mobile-web-app-title" content="尚妆达人店">
	<meta name="keywords" content="{{commonEnv.keywords}}" />
	<meta name="description" content="{{commonEnv.description}}"/>
	<meta name="alexaVerifyID" content="CQ9MFqujDWRsB8dm3rfIrhLYva0" />

    <!-- TODO：在模板中，一定要注意代码规范，如压缩后的js代码try&catch字段会出现{}连在一起的情况，模板引擎会误认为占位符 -->

	<script type="text/javascript">
		;(function(doc) {
		    // 给html根节点加上webps类名
		    function addRootTag() {
		        doc.documentElement.className += " webpa";
		    }

		    // 判断是否有webp_showjoy=available这个cookie
		    if (!/webp_showjoy=available/.test(document.cookie)) {
		        var image = new Image();

		        // 图片加载完成时候的操作
		        image.onload = function() {

		            // 图片加载成功且宽度为1，那么就代表支持webp了，因为这张base64图是webp格式。如果不支持会触发image.error方法
		            if (image.width == 1) {

		                // html根节点添加class，并且埋入cookie
		                addRootTag();
		                document.cookie = "webp_showjoy=available; max-age=31536000; domain=";
		            }
		        };

		        // 一张支持alpha透明度的webp的图片，使用base64编码
		        image.src = 'data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==';
		    } else {
		        addRootTag();
		    }
		}(document));
	</script>

	<!-- 页面公共样式脚本 -->
	{{if shopEnv.isTestEnv}}
		<link rel="stylesheet" type="text/css" href="//assets.showjoy.net/joyf2e/vendor/gmu/reset.css" />
		<link rel="stylesheet" type="text/css" href="//assets.showjoy.net/joyf2e/vendor/gmu/gmu.min.css" />
	{{else}}
		<link rel="stylesheet" type="text/css" href="//cdn1.showjoy.com/assets/f2e/joyf2e/vendor/0.0.2/gmu/reset.css" />
		<link rel="stylesheet" type="text/css" href="//cdn1.showjoy.com/assets/f2e/joyf2e/vendor/0.0.2/gmu/gmu.min.css" />

	{{/if}}

	<link href="{{shopEnv.gv_wapPageRoot}}/shop-header/shop-header.min.css" rel="stylesheet" />

	<link href="{{shopEnv.gv_wapPageRoot}}/shop-footer/shop-footer.min.css" rel="stylesheet" />
	<link rel="stylesheet" type="text/css" href="//cdn1.showjoy.com/assets/f2e/joyf2e/vendor/0.1.7/iconfont/talent-iconfont/icon.min.css" />


	<title>{{if title}}{{title}}{{else}}{{shopName}}{{/if}}</title>

	{{if shopEnv.isTestEnv}}
		<script type="text/javascript" src="https://assets.showjoy.net/joyf2e/vendor/flexible/flexible-min.js"></script>
	{{else}}
		<script type="text/javascript" src="//cdn1.showjoy.com/assets/f2e/joyf2e/vendor/0.0.21/flexible/flexible-min.js"></script>
	{{/if}}

	{{if pageName != "topicActivity"}}
		<link href="{{shopEnv.gv_wapPageRoot}}/{{pageName}}/{{pageName}}.min.css" rel="stylesheet" />
	{{/if}}

</head>
<body>
<script type="text/javascript">
  var $appendContainer = document.body;
  var placeholderDiv = document.createElement('div');
  placeholderDiv.innerHTML = '<div class="joy-ui-sync-loading">'+
              '<div class="content-box">'+
                  '<div class="circle"></div>'+
              '</div>'+
          '</div>';
  var childDiv = placeholderDiv.firstChild;
  $appendContainer.appendChild(childDiv);

  window.addEventListener('DOMContentLoaded', function () {
    document.body.removeChild(childDiv);
  }, false);
</script>
<div id="layout" class="j_Layout">
    <input type="hidden" class="j_ShopUserImage" value="{{userImage}}">
    <input type="hidden" class="j_ShopName" value="{{shopName}}">
	{{if pageName == "itemDetail" || pageName == "grouponDetail" || pageName == "invitation"}}
	    <input type="hidden" class="j_ShopUrl" value="" />
	{{else}}
	    {{if shopId && shopId > 0}}
	        <input type="hidden" class="j_ShopUrl" value="{{commonEnv.mobileShopServerName}}/shop?shopId={{shopId}}" />
	    {{else if myShopId > 0}}
	        <input type="hidden" class="j_ShopUrl" value="{{commonEnv.mobileShopServerName}}/shop?shopId={{myShopId}}" />
	        {{else}}
	        <input type="hidden" class="j_ShopUrl" value="{{commonEnv.mobileShopServerName}}/shop" />
	    {{/if}}
	{{/if}}